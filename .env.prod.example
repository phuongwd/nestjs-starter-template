# Application Configuration
# -------------------
NODE_ENV=production
PORT=3000
DEPLOYMENT_TYPE=cloud                # cloud | self-hosted
TZ=UTC
APP_NAME=SAASQALI
APP_DESCRIPTION="Multi-tenant SAAS Platform API"
APP_URL=https://api.yourdomain.com

# API Configuration
# ----------------
API_VERSION=1
API_PREFIX=api/v
API_SUPPORTED_VERSIONS=1,2
API_DEPRECATED_VERSIONS=1

# Database Configuration
# ---------------------
DB_HOST=postgres                     # Use docker service name in production
DB_PORT=5432                         # Default postgres port
DB_USERNAME=nanoe                    # Change to a secure username
DB_PASSWORD=change_this_in_production # Change to a secure password
DB_DATABASE=nanoe
DATABASE_URL=postgresql://${DB_USERNAME}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_DATABASE}?schema=public&connection_limit=5&pool_timeout=2000

# Redis Configuration
# -----------------
REDIS_HOST=redis                     # Use docker service name in production
REDIS_PORT=6379
REDIS_PASSWORD=change_this_in_production # Change to a secure password
CACHE_TTL=3600                       # 1 hour in seconds
PERMISSION_TTL=3600                       # 1 hour in seconds

# Email Configuration
# -----------------
FEATURE_EMAIL_ENABLED=true
EMAIL_PROVIDER=smtp                  # smtp | gmail | mailgun | sendgrid | ses
EMAIL_FROM=no-reply@yourdomain.com

# SMTP Configuration
# ----------------
SMTP_HOST=smtp.provider.com
SMTP_PORT=587
SMTP_SECURE=false                    # true for 465, false for other ports
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password
SMTP_FROM=no-reply@yourdomain.com

# Custom Domains Configuration
# --------------------------
FEATURE_CUSTOM_DOMAINS_ENABLED=true
FEATURE_CUSTOM_DOMAINS_WILDCARD=false
FEATURE_CUSTOM_DOMAINS_SSL=true
CUSTOM_DOMAINS_SSL_PROVIDER=letsencrypt # letsencrypt | cloudflare | none

# Subscription Configuration
# ------------------------
FREE_PLAN_MEMBER_LIMIT=5
FREE_PLAN_PROJECT_LIMIT=3
FREE_PLAN_STORAGE_LIMIT=100          # In MB
TRIAL_DURATION_DAYS=14
TRIAL_MEMBER_LIMIT=10

# Security Configuration
# --------------------
JWT_SECRET=change_this_in_production  # Use a strong random string
JWT_EXPIRATION=3600                   # 1 hour in seconds
COOKIE_SECRET=change_this_in_production # Use a different strong random string

# CORS Configuration
# ----------------
ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# Logging Configuration
# -------------------
LOG_LEVEL=info                       # debug | info | warn | error

# Docker Configuration
# ------------------
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# Token Configuration
# -----------------
TOKEN_VERSION_TTL=604800             # 7 days in seconds
TOKEN_REVOCATION_TTL=86400           # 1 day in seconds
ACCESS_TOKEN_TTL=900                 # 15 minutes in seconds
REFRESH_TOKEN_TTL=604800             # 7 days in seconds

# Storage Configuration
# -------------------
STORAGE_LOCAL_DIR=/app/storage
STORAGE_ROOT_PATH=/
STORAGE_MAX_FILE_SIZE=10485760       # 10MB in bytes
STORAGE_ALLOWED_MIME_TYPES=image/png,image/jpeg,application/pdf,application/zip
STORAGE_DEFAULT_QUOTA=104857600      # 100MB in bytes
STORAGE_CACHE_TTL=3600               # 1 hour in seconds
STORAGE_MAX_CONCURRENT_UPLOADS=5
STORAGE_TEMP_DIR=/app/tmp

# System Paths
# -----------
DATA_PATH=/var/data                  # Host path for persistent data
BACKUP_PATH=/var/backups             # Host path for backups

# Monitoring Configuration
# ----------------------
GRAFANA_ADMIN_USER=admin             # Change in production
GRAFANA_ADMIN_PASSWORD=change_this_in_production # Change in production

# Resource Limits
# -------------
APP_MEMORY_LIMIT=1G
APP_CPU_LIMIT=1
POSTGRES_MEMORY_LIMIT=1G
POSTGRES_CPU_LIMIT=1
REDIS_MEMORY_LIMIT=512M
REDIS_CPU_LIMIT=0.5
NGINX_MEMORY_LIMIT=256M
NGINX_CPU_LIMIT=0.5