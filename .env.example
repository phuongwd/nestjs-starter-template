# Application
NODE_ENV=development                 # development | production
PORT=3001
DEPLOYMENT_TYPE=local               # local | cloud | self-hosted
TZ=UTC
APP_NAME=SAASQALI
APP_DESCRIPTION="Multi-tenant SAAS Platform API"
APP_URL=http://localhost:3001
APP_PORT=3001

# API Configuration
API_VERSION=1
API_PREFIX=api/v
API_SUPPORTED_VERSIONS=1,2
API_DEPRECATED_VERSIONS=1

# Database Configuration
DB_HOST=localhost                   # localhost for dev, postgres for docker
DB_PORT=5433                        # 5433 for dev, 5432 for docker
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_DATABASE=nanoe
DATABASE_URL=postgresql://${DB_USERNAME}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_DATABASE}?schema=public

# Feature Flags
FEATURE_EMAIL_ENABLED=true          # true | false
EMAIL_PROVIDER=smtp                 # smtp | gmail | mailgun | sendgrid | ses
EMAIL_FROM=no-reply@example.com
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-specific-password

# Custom Domains
FEATURE_CUSTOM_DOMAINS_ENABLED=false
FEATURE_CUSTOM_DOMAINS_WILDCARD=false
FEATURE_CUSTOM_DOMAINS_SSL=false
CUSTOM_DOMAINS_SSL_PROVIDER=none

# Email Configuration
SMTP_HOST=smtp.gmail.com            # Required if FEATURE_EMAIL_ENABLED=true
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com      # Required if FEATURE_EMAIL_ENABLED=true
SMTP_PASS=your-app-password         # Required if FEATURE_EMAIL_ENABLED=true
SMTP_FROM=your-email@gmail.com      # Required if FEATURE_EMAIL_ENABLED=true

# Subscription Configuration
FREE_PLAN_MEMBER_LIMIT=5
FREE_PLAN_PROJECT_LIMIT=3
FREE_PLAN_STORAGE_LIMIT=100
TRIAL_DURATION_DAYS=14
TRIAL_MEMBER_LIMIT=10

# Security
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRATION=3600                 # 1 hour
COOKIE_SECRET=your_cookie_secret

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000

# Logging
LOG_LEVEL=debug                     # debug for dev, info for prod

# Docker Configuration
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# License Configuration (Required for self-hosted)
LICENSE_KEY=your-license-key
LICENSE_HOLDER=Company Name
LICENSE_TYPE=enterprise # community, professional, enterprise
LICENSE_EXPIRY=2025-12-31
MAX_USERS=unlimited
MAX_ORGANIZATIONS=unlimited
ALLOWED_FEATURES=all # comma-separated list of feature codes

# System Limits
MAX_FILE_SIZE=10 # in MB
RATE_LIMIT_TTL=60000
RATE_LIMIT_LIMIT=5
STORAGE_LIMIT=100 # in GB

# Authentication
ENCRYPTION_KEY=your-encryption-key
ALLOW_REGISTRATION=true
PASSWORD_MIN_LENGTH=8
SESSION_TIMEOUT=3600
REQUIRE_2FA=false

# Customization (Self-hosted Only)
COMPANY_NAME=Your Company
COMPANY_LOGO_URL=https://your-company.com/logo.png
PRIMARY_COLOR=#007bff
SECONDARY_COLOR=#6c757d
CUSTOM_DOMAIN=your-domain.com
FAVICON_URL=https://your-company.com/favicon.ico

# Monitoring and Logging
ENABLE_AUDIT_LOG=true
ENABLE_USAGE_ANALYTICS=true
SENTRY_DSN=your-sentry-dsn

# Backup Configuration (Self-hosted Only)
BACKUP_ENABLED=true
BACKUP_FREQUENCY=daily # hourly, daily, weekly
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/path/to/backups

# Integration Settings
ENABLE_SSO=false
SSO_PROVIDER=none # none, google, azure, okta
SSO_CONFIG={}

# Feature Flags
ENABLE_MULTI_TENANCY=false
ENABLE_CUSTOM_BRANDING=true
ENABLE_API_ACCESS=true
ENABLE_AUDIT_LOGGING=true
ENABLE_ADVANCED_SECURITY=false

# Cache Configuration
REDIS_URL=                           # Redis connection string (e.g., redis://user:password@host:port)
# Or use individual settings (used if REDIS_URL is not provided)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=                      # Optional Redis password
CACHE_TTL=3600                       # 1 hour in seconds
PERMISSION_TTL=3600                       # 1 hour in seconds
ENABLE_RESPONSE_CACHE=true

# API Documentation
SWAGGER_ENABLED=true
SWAGGER_TITLE=Your API Title
SWAGGER_DESCRIPTION=Your API Description
SWAGGER_VERSION=1.0

# Gmail Configuration
GMAIL_USER=your-gmail@gmail.com
GMAIL_APP_PASSWORD=your-gmail-app-password

# Mailgun Configuration
MAILGUN_SMTP_USER=your-mailgun-smtp-user
MAILGUN_SMTP_PASS=your-mailgun-smtp-password

# SendGrid Configuration
SENDGRID_API_KEY=your-sendgrid-api-key

# Amazon SES Configuration
AWS_SES_ACCESS_KEY=your-ses-access-key
AWS_SES_SECRET_KEY=your-ses-secret-key

# External Services
STRIPE_SECRET_KEY=your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# Token Configuration
TOKEN_VERSION_TTL=604800        # 7 days
TOKEN_REVOCATION_TTL=86400      # 1 day
ACCESS_TOKEN_TTL=900            # 15 minutes
REFRESH_TOKEN_TTL=604800        # 7 days
TOKEN_SECRET=your-token-secret  # Different from JWT_SECRET for additional security

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/callback/google

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_REDIRECT_URI=http://localhost:3000/api/auth/callback/github

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret
MICROSOFT_REDIRECT_URI=http://localhost:3000/api/auth/callback/microsoft
MICROSOFT_TENANT_ID=common # Use 'common' for multi-tenant or your specific tenant ID

# Apple OAuth
APPLE_CLIENT_ID=your_apple_client_id            # Your App ID from Apple Developer Portal
APPLE_TEAM_ID=your_apple_team_id                # Your Team ID from Apple Developer Portal
APPLE_KEY_ID=your_apple_key_id                  # The Key ID for your private key
APPLE_PRIVATE_KEY=your_apple_private_key        # The private key content from Apple Developer Portal
APPLE_REDIRECT_URI=http://localhost:3000/api/auth/callback/apple

# Storage Configuration
STORAGE_LOCAL_DIR=./storage                  # Local storage directory
STORAGE_ROOT_PATH=/                          # Root path for storage operations
STORAGE_MAX_FILE_SIZE=10485760              # Maximum file size in bytes (10MB)
STORAGE_ALLOWED_MIME_TYPES=                 # Comma-separated list of allowed MIME types (empty for all) image/png,image/jpeg,application/pdf,application/zip,application/x-zip-compressed,multipart/x-zip
STORAGE_DEFAULT_QUOTA=104857600             # Default quota per organization in bytes (100MB)
STORAGE_CACHE_TTL=3600                      # Cache time-to-live in seconds (1 hour)
STORAGE_MAX_CONCURRENT_UPLOADS=5            # Maximum concurrent uploads
STORAGE_TEMP_DIR=./tmp                      # Temporary directory for uploads

# AWS S3 Storage (Optional)
AWS_S3_REGION=us-east-1                     # AWS region for S3
AWS_S3_BUCKET=your-bucket-name              # S3 bucket name
AWS_S3_ACCESS_KEY_ID=your-access-key        # AWS access key ID
AWS_S3_SECRET_ACCESS_KEY=your-secret-key    # AWS secret access key
AWS_S3_BASE_URL=                            # Custom domain for S3 (optional)
AWS_S3_FORCE_PATH_STYLE=false               # Use path style endpoint

# DigitalOcean Spaces (Optional)
DO_SPACES_REGION=nyc3                       # DigitalOcean region for Spaces
DO_SPACES_BUCKET=your-space-name            # Space name
DO_SPACES_ACCESS_KEY_ID=your-access-key     # Spaces access key ID
DO_SPACES_SECRET_ACCESS_KEY=your-secret-key # Spaces secret access key
DO_SPACES_BASE_URL=                         # Custom domain for Spaces (optional)
DO_SPACES_ENDPOINT=nyc3.digitaloceanspaces.com # Spaces endpoint

# Storage Configuration
# -------------------
# Local storage directory (absolute path)
STORAGE_LOCAL_DIRECTORY=./storage
# Local storage public URL
STORAGE_LOCAL_BASE_URL=http://localhost:3000/storage

# S3 Configuration
# -------------------
STORAGE_S3_REGION=us-east-1
STORAGE_S3_BUCKET=my-bucket
STORAGE_S3_ACCESS_KEY=my-access-key
STORAGE_S3_SECRET_KEY=my-secret-key
# Optional S3 base URL
STORAGE_S3_BASE_URL=

# DigitalOcean Spaces Configuration
# -------------------
STORAGE_DO_REGION=nyc3
STORAGE_DO_SPACE=my-space
STORAGE_DO_ACCESS_KEY=my-access-key
STORAGE_DO_SECRET_KEY=my-secret-key
# Optional DO CDN endpoint
STORAGE_DO_CDN_ENDPOINT=
# Optional DO custom domain
STORAGE_DO_CUSTOM_DOMAIN=

# GitHub Storage Configuration
# -------------------
# GitHub personal access token with repo scope
STORAGE_GITHUB_TOKEN=
# Repository owner (username or organization)
STORAGE_GITHUB_OWNER=
# Repository name
STORAGE_GITHUB_REPO=
# Default branch (default: main)
STORAGE_GITHUB_BRANCH=main
# Optional base path within the repository
STORAGE_GITHUB_BASE_PATH=
# Whether to use raw GitHub URLs (default: true)
STORAGE_GITHUB_USE_RAW_URL=true
# Optional custom domain for GitHub Pages
STORAGE_GITHUB_CUSTOM_DOMAIN=